{% extends "base.html" %}
{% block title %}API Access - OpenData Exchange{% endblock %}

{% block content %}
<section class="page-intro">
    <div class="container">
        <h1>API Access</h1>
        <p>Programmatic access to our datasets through a modern REST API. Query, filter, and export data in the formats you need.</p>
    </div>
</section>

<section class="section section-alt">
    <div class="container">
        <h2 class="section-title">API Features</h2>
        <ul class="feature-list">
            <li>RESTful JSON and CSV endpoints</li>
            <li>Token-based authentication</li>
            <li>Real-time and batch query modes</li>
            <li>Webhook notifications for data updates</li>
            <li>Sandbox environment for development</li>
            <li>Rate limits up to 100k requests/day</li>
            <li>Bulk export with pagination</li>
            <li>Comprehensive documentation</li>
        </ul>
    </div>
</section>

<section class="section">
    <div class="container form-container">
        {% if success %}
        <div class="success-message">
            <h2>Request Received</h2>
            <p>Your API access request is under review. You will receive your API credentials and documentation link via email within 48 hours.</p>
            <span class="ref-id">Ref: {{ reference_id }}</span>
        </div>
        {% else %}
        <h1>Request API Access</h1>
        <p>Complete the form below to request API credentials. We review all applications and typically provision access within 48 hours.</p>

        <form method="POST" action="/api-access">
            <h3>Contact Information</h3>

            <label for="full_name">Full Name *</label>
            <input type="text" id="full_name" name="full_name" required>

            <label for="email">Email Address *</label>
            <input type="email" id="email" name="email" required>

            <label for="organization">Organization</label>
            <input type="text" id="organization" name="organization">

            <label for="role">Role / Title</label>
            <input type="text" id="role" name="role">

            <h3>Project Details</h3>

            <label for="intended_use">Intended Use *</label>
            <select id="intended_use" name="intended_use" required>
                <option value="">Select...</option>
                <option value="research">Academic Research</option>
                <option value="commercial">Commercial Application</option>
                <option value="internal">Internal Analytics</option>
                <option value="development">Software Development</option>
                <option value="other">Other</option>
            </select>

            <label for="project_description">Describe Your Project *</label>
            <textarea id="project_description" name="project_description" rows="4" required placeholder="What will you build with this data? How will it be used?"></textarea>

            <label for="api_volume">Estimated API Calls per Month</label>
            <select id="api_volume" name="api_volume">
                <option value="">Select...</option>
                <option value="under_1k">Under 1,000</option>
                <option value="1k_10k">1,000 - 10,000</option>
                <option value="10k_100k">10,000 - 100,000</option>
                <option value="over_100k">Over 100,000</option>
            </select>

            <button type="submit" class="btn btn-primary">Request Access</button>
        </form>
        {% endif %}
    </div>
</section>
{% endblock %}
